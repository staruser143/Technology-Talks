Perfect ‚Äî using **Apache PDFBox 2.0.7** keeps the dependency lightweight and fully open source.
Below is a **ready-to-run Maven project skeleton** for your **PDF generation library**, supporting:

* **AcroForm PDF templates**
* **JSON data merging**
* **YAML mapping configuration**

You can copy this structure directly into IntelliJ or VS Code and run it immediately.

---

## üìÅ Directory Layout

```
pdf-generator-lib/
 ‚îú‚îÄ‚îÄ pom.xml
 ‚îú‚îÄ‚îÄ src/
 ‚îÇ   ‚îú‚îÄ‚îÄ main/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/example/pdfgen/
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PdfGenerator.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ processor/AcroFormProcessor.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/MappingConfig.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/TemplateConfig.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/OutputConfig.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/FieldMapping.java
 ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ util/{YamlUtils.java, JsonUtils.java}
 ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
 ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ configs/mapping.yaml
 ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ data/invoice.json
 ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ templates/invoice.pdf
 ‚îÇ   ‚îî‚îÄ‚îÄ test/java/
 ‚îÇ       ‚îî‚îÄ‚îÄ (optional)
```

---

## üßæ `pom.xml`

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                             http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.example</groupId>
    <artifactId>pdf-generator-lib</artifactId>
    <version>1.0.0</version>
    <packaging>jar</packaging>

    <name>PDF Generator Library</name>

    <properties>
        <maven.compiler.source>1.8</maven.compiler.source>
        <maven.compiler.target>1.8</maven.compiler.target>
    </properties>

    <dependencies>
        <!-- PDFBox for AcroForm processing -->
        <dependency>
            <groupId>org.apache.pdfbox</groupId>
            <artifactId>pdfbox</artifactId>
            <version>2.0.7</version>
        </dependency>

        <!-- Jackson for JSON + YAML -->
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-databind</artifactId>
            <version>2.17.1</version>
        </dependency>
        <dependency>
            <groupId>com.fasterxml.jackson.dataformat</groupId>
            <artifactId>jackson-dataformat-yaml</artifactId>
            <version>2.17.1</version>
        </dependency>

        <!-- Logging -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>1.7.36</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <!-- Create executable jar -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-assembly-plugin</artifactId>
                <version>3.3.0</version>
                <configuration>
                    <archive>
                        <manifest>
                            <mainClass>com.example.pdfgen.PdfGenerator</mainClass>
                        </manifest>
                    </archive>
                    <descriptorRefs>
                        <descriptorRef>jar-with-dependencies</descriptorRef>
                    </descriptorRefs>
                </configuration>
                <executions>
                    <execution>
                        <id>make-assembly</id>
                        <phase>package</phase>
                        <goals><goal>single</goal></goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
```

---

## üß© `MappingConfig.java`

```java
package com.example.pdfgen.config;

import java.util.List;

public class MappingConfig {
    private TemplateConfig template;
    private OutputConfig output;
    private List<FieldMapping> mapping;

    public TemplateConfig getTemplate() { return template; }
    public void setTemplate(TemplateConfig template) { this.template = template; }

    public OutputConfig getOutput() { return output; }
    public void setOutput(OutputConfig output) { this.output = output; }

    public List<FieldMapping> getMapping() { return mapping; }
    public void setMapping(List<FieldMapping> mapping) { this.mapping = mapping; }
}
```

---

## üß© `TemplateConfig.java`

```java
package com.example.pdfgen.config;

public class TemplateConfig {
    private String type; // acroform
    private String path;

    public String getType() { return type; }
    public void setType(String type) { this.type = type; }

    public String getPath() { return path; }
    public void setPath(String path) { this.path = path; }
}
```

---

## üß© `OutputConfig.java`

```java
package com.example.pdfgen.config;

public class OutputConfig {
    private String path;

    public String getPath() { return path; }
    public void setPath(String path) { this.path = path; }
}
```

---

## üß© `FieldMapping.java`

```java
package com.example.pdfgen.config;

public class FieldMapping {
    private String source;
    private String target;

    public String getSource() { return source; }
    public void setSource(String source) { this.source = source; }

    public String getTarget() { return target; }
    public void setTarget(String target) { this.target = target; }
}
```

---

## üß© `YamlUtils.java`

```java
package com.example.pdfgen.util;

import com.example.pdfgen.config.MappingConfig;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.dataformat.yaml.YAMLFactory;
import java.io.File;
import java.io.IOException;

public class YamlUtils {
    public static MappingConfig loadConfig(String path) throws IOException {
        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());
        return mapper.readValue(new File(path), MappingConfig.class);
    }
}
```

---

## üß© `JsonUtils.java`

```java
package com.example.pdfgen.util;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import java.io.File;
import java.io.IOException;

public class JsonUtils {
    public static JsonNode loadJson(String path) throws IOException {
        ObjectMapper mapper = new ObjectMapper();
        return mapper.readTree(new File(path));
    }
}
```

---

## üß© `AcroFormProcessor.java`

```java
package com.example.pdfgen.processor;

import com.example.pdfgen.config.FieldMapping;
import com.example.pdfgen.config.MappingConfig;
import com.fasterxml.jackson.databind.JsonNode;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;
import org.apache.pdfbox.pdmodel.interactive.form.PDField;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.io.File;

public class AcroFormProcessor {

    private static final Logger log = LoggerFactory.getLogger(AcroFormProcessor.class);

    public void generate(MappingConfig config, JsonNode data) throws Exception {
        File templateFile = new File(config.getTemplate().getPath());
        if (!templateFile.exists()) {
            throw new IllegalArgumentException("Template not found: " + templateFile.getAbsolutePath());
        }

        PDDocument document = PDDocument.load(templateFile);
        PDAcroForm form = document.getDocumentCatalog().getAcroForm();

        for (FieldMapping fm : config.getMapping()) {
            String jsonPath = "/" + fm.getSource().replace(".", "/");
            JsonNode value = data.at(jsonPath);

            PDField field = form.getField(fm.getTarget());
            if (field != null && value != null && !value.isMissingNode()) {
                field.setValue(value.asText());
                log.info("Filled field {} = {}", fm.getTarget(), value.asText());
            } else {
                log.warn("Field or value missing for mapping {}", fm.getTarget());
            }
        }

        form.flatten(); // optional: make fields non-editable
        document.save(config.getOutput().getPath());
        document.close();

        log.info("PDF generated at {}", config.getOutput().getPath());
    }
}
```

---

## üß© `PdfGenerator.java` (Main Entry Point)

```java
package com.example.pdfgen;

import com.example.pdfgen.config.MappingConfig;
import com.example.pdfgen.processor.AcroFormProcessor;
import com.example.pdfgen.util.JsonUtils;
import com.example.pdfgen.util.YamlUtils;
import com.fasterxml.jackson.databind.JsonNode;

public class PdfGenerator {

    public static void main(String[] args) throws Exception {
        String configPath = "src/main/resources/configs/mapping.yaml";
        String dataPath = "src/main/resources/data/invoice.json";

        MappingConfig config = YamlUtils.loadConfig(configPath);
        JsonNode data = JsonUtils.loadJson(dataPath);

        if ("acroform".equalsIgnoreCase(config.getTemplate().getType())) {
            new AcroFormProcessor().generate(config, data);
        } else {
            throw new UnsupportedOperationException("Only 'acroform' type supported in this version.");
        }
    }
}
```

---

## üßæ Example `mapping.yaml`

```yaml
template:
  type: acroform
  path: src/main/resources/templates/invoice.pdf

output:
  path: target/output/invoice_merged.pdf

mapping:
  - source: customer.name
    target: customer_name
  - source: customer.address
    target: customer_address
  - source: total
    target: total_amount
```

---

## üßæ Example `invoice.json`

```json
{
  "customer": {
    "name": "John Doe",
    "address": "123 Main Street, Springfield"
  },
  "total": "250.00"
}
```

---

## ‚ñ∂Ô∏è Run

```bash
# Build
mvn clean package

# Run (creates output/invoice_merged.pdf)
java -jar target/pdf-generator-lib-1.0.0-jar-with-dependencies.jar
```

---

## ‚úÖ Output

A filled, flattened PDF file at:

```
target/output/invoice_merged.pdf
```

---

Would you like me to **extend this skeleton** to also support **Freemarker-based HTML templates** using the same YAML config (so it can switch between AcroForm and HTML automatically)?
That will make it a dual-template engine library ready for business templates.
